---
title: "IT系じゃない会社にGitを使わせてみた"
emoji: "📘"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["Git", "GitBucket"]
published: false
---

# はじめに

私の働く会社はIT系ではなく、日々の業務はほぼ100%パソコンに向かって行うものの、バージョン管理とは無縁の業種です。作られるデータも図面、Excel、建物の計算モデルデータなどであり、基本的にバイナリファイルです。バージョン管理専用のソフトウェアがあるなんて、私以外の誰も知らなかったと思う。

そんな職場で、情報共有が円滑に行えますよと部のエライ人をそそのかし（語弊）て、GitBucketを導入した記録です。

バイナリファイルを苦手としているのにも関わらずGitBucketを採用したのは、私自身がGitユーザーだったことと、インストールが楽そうだと思ったことが主な理由です。

# GitBucketとは

[GitBucket](https://gitbucket.github.io/)

> Scalaで実装されたオープンソースのGitサーバ（たけぞう瀕死ブログ）

GitHubでできることは大体できる。フォークもイシューもプルリクエストもある。大丈夫。

# 現在までにやったことまとめ

導入しようと思い立ってからやったことを順番にまとめます。

## ひとりでGitを使う

会社のパソコン（Windows）にGitをインストールして、自分のためのVBAマクロやnode.js製ツールのバージョン管理をしていました。

図面データのバージョン管理をやっていたこともありますが、対外的にはファイル名でリビジョン管理していたり、他人が更新したものも自分でコミットしなきゃいけなかったり、バイナリなのでコンフリクトが起きないように気をつけなきゃいけなかったりで、労力の方が大きかったですね。

あと、この期間に、趣味のプログラミングのためにGitBucketを使ってみたことがあります。

## 内製Excelツールを整理するための委員会が発足する

部署内では長年にわたり、「値を入れたら自動的にXXを計算してくれるツール（Excelブック）」が数多く作成されていました。しかも誰かが作ったツールを他の誰かが独自拡張するので派生版が多く、部署内で全く整理できていない状況でした。

そんな中、今年（2020年）に入ってから、派生版の多いExcelブックを整理し、部署で管理する「正規版」を作るための委員会が立ち上がったのです。そして私もメンバーに召集されたのです。

## 会社のパソコンにGitBucketを立ち上げてみる

上記の委員会で作った正規版のデータは、当初、社内のファイルサーバに入れて管理する予定だった（というか、それ以外の方法を誰も思いつかなかった。ファイルサーバーに入れるだけじゃすぐ管理されなくなるのは分かっていた）のですが、そういうデータこそバージョン管理したいですよね。

正規版データの行き先に困っている委員会なら話を聞いてもらえそうだったので、会社のパソコンにGitBucketを立ち上げてみて、こんなのが有るんですよー、という話を持っていきました。

幸いにもひとりでGitを使っていた時のリポジトリがあったため、GitBucketにPushしてサンプルとして提示することができました。

もっとも、初めて聞く技術に臆病になりがち（難しそう・覚えられない・怖い）な弊部署なので、何ができるか、という話は極端に単純化しなければいけませんでした。項目を増やしたり減らしたりしながらまとめたGitBucketを推す理由はこんな感じです。

- メリット
  1. ファイルのアップロードができる（Filesページ）
  1. 過去のバージョンも取り出せる（Releasesページ）
  1. 文書を作って情報共有できる（Wiki機能）
  1. 各リポジトリごとに管理者が存在する（ユーザー機能）
- デメリット
  1. 新しくサーバーを立てて管理しなければいけない（弊社はIT系じゃないのでみんな怖気づくのです。わたしやるよ！）
  1. 説明してないけどできることがいっぱいある

## 試験的にサーバーを立ち上げる準備

まずネットワーク管理者を説得して社内にサーバーを立てさせてもらわねばなりません。ネットワーク管理者と言っても会社のエライ人が片手間にやっているので、「なんかあったら責任とれるんか」としか言われないのです。だから専門家を雇えと。

仕方がないのでこちらもセキュリティリスクを下げるための提案をしなければなりません。

## 委員会で使ってみる

本格稼働させるかどうかはあとで考えるとして、初心者でもおじいちゃんでも使えるのか試してみましょうよ、ということで、委員会のメンバーに使ってみてもらいます。
